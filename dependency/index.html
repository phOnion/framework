<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Introduction - Onion - Framework</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Introduction";
    var mkdocs_page_input_path = "dependency\\index.md";
    var mkdocs_page_url = "/dependency/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Onion - Framework</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Intro</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../setup/">Tutorial</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Dependency</span>
    <ul class="subnav">
                <li class=" current">
                    
    <a class="current" href="./">Introduction</a>
    <ul class="subnav">
            
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="invokables/">Invokables</a>
                </li>
                <li class="">
                    
    <a class="" href="factories/">Factories</a>
                </li>
                <li class="">
                    
    <a class="" href="shared/">In-memory Caching</a>
                </li>
                <li class="">
                    
    <a class="" href="caching/">Persistent Caching</a>
                </li>
                <li class="">
                    
    <a class="" href="delegation/">Delegation</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Routing</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../routing/">Introduction</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../hydratable/">Hydration</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../collections/">Collections</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../rest/">Rest</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Advanced</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../modules/">Modules</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Onion - Framework</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Dependency &raquo;</li>
        
      
    
    <li>Introduction</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>The app comes with a very capable DI container, that provides the essential
functionality to get an app running with as little issues as possible. It is
pretty similar to the one provided from ZF, but with some features omitted.
The container's dependencies are passed as an array in it's constructor and
have 3 special keys: <code>invokables</code>, <code>factories</code> and <code>shared</code></p>
<p>Everything outside of these 3 keys is treated just as a value and can be retrieved by calling
<code>Container::get('someKey')</code> and that will return the value of 'someKey' as-is, without performing
any operations on it. Also if you need to access a specific key which is located in a nested
array you can use a dot notation, which the container will interpret as indication for a level
of the array. Say for example, you have an array:</p>
<pre><code class="php">return [
    'doctrine' =&gt;  [
        'connection' =&gt;  [
            'dbname' =&gt; 'foo',
        ],
    ],
]
</code></pre>

<p>OR</p>
<pre><code class="php">return [
    'doctrine' =&gt; [
        'connection' =&gt; [
            'dbname' =&gt; 'foo',
            // ...
        ]
    ]
]
</code></pre>

<p>In order to access <code>'dbname'</code>, you might have to do at least 2 ifs (to ensure the key is there) or
definitely will have to make something like: <code>Container::get('doctrine')['connection']['dbname'] ?? false</code>
and then check if the key is equal to null, but that definetely is not the prettiest... This is where
this could come in to play, instead of doing that you can just do <code>Container::get('doctrine.connection.dbname');</code>
which will return <code>'foo'</code> or throw <code>UnknownDependency</code> if nothing is found and you are all set, and it looks
clearer too + on thje bonus side if you are writing a distributable module, you can be sure that the
container will throw the appropriate error if any key is not defined and notify the user, no more
piles of <code>if</code>s in your factories :)</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="invokables/" class="btn btn-neutral float-right" title="Invokables">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../setup/" class="btn btn-neutral" title="Tutorial"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../setup/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="invokables/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
