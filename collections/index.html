<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Collections - Onion - Framework</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Collections";
    var mkdocs_page_input_path = "collections.md";
    var mkdocs_page_url = "/collections/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Onion - Framework</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Intro</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../setup/">Tutorial</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Dependency</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../dependency/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../dependency/invokables/">Invokables</a>
                </li>
                <li class="">
                    
    <a class="" href="../dependency/factories/">Factories</a>
                </li>
                <li class="">
                    
    <a class="" href="../dependency/caching/">Caching</a>
                </li>
                <li class="">
                    
    <a class="" href="../dependency/delegation/">Delegation</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Routing</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../routing/">Introduction</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../hydratable/">Hydration</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Collections</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#introduction">Introduction</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#collection">Collection</a></li>
        
            <li><a class="toctree-l3" href="#callbackcollection">CallbackCollection</a></li>
        
            <li><a class="toctree-l3" href="#hydratablecollection">HydratableCollection</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../rest/">Rest</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Advanced</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../modules/">Modules</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Onion - Framework</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Collections</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="introduction">Introduction</h1>
<p>There are 3 pretty generic collection classes that should provide at
least some benefit in a few scenarios.</p>
<h2 id="collection">Collection</h2>
<p>The base collection class is just an iterator and exposes 1 additional
method <code>addFilter</code> which accepts a callback and passing it <code>$value</code> and <code>$key</code>
in this order, under the hood it uses the built-in PHP <code>CallbackFilterIterator</code> to
perform the filtering.</p>
<h2 id="callbackcollection">CallbackCollection</h2>
<p>This one is aimed at applying a callback to each element in the array
much like <code>array_map</code> does, but instead of applying it instantly it is
lazy and the callback is applied only when an item is retrieved
from the iterator. The goal of that is to have as lazy as possible
collection. Which when working with large datasets will manipulate them
on the fly rather than in a single go.</p>
<p>It extends <code>Collection</code> so the filtering is still there, just note that
the callback is applied after the filtering so the filter function has
to use the raw data.</p>
<h2 id="hydratablecollection">HydratableCollection</h2>
<p>This one a thin wrapper around <code>CallbackCollection</code> to provide a simplified
API to generate object specific collections. It takes a prototype instance
that implements <code>HydratableInterface</code> as it's 2nd argument in the constructor.</p>
<p>Just note that the filtering will be applied <em>after</em> the hydration since
the objects might have their own validation procedures in place and thus
the filtering could be <code>$item-&gt;isVallid()</code> instead of duplicating the logic
every you have to validate/filter the collection.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../rest/" class="btn btn-neutral float-right" title="Rest">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../hydratable/" class="btn btn-neutral" title="Hydration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../hydratable/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../rest/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
